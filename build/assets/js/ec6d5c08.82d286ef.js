"use strict";(self.webpackChunksemaphore_docs=self.webpackChunksemaphore_docs||[]).push([[5697],{3968:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"administration-guide/notifications/telegram","title":"telegram","description":"Notifications","source":"@site/docs/administration-guide/notifications/telegram.md","sourceDirName":"administration-guide/notifications","slug":"/administration-guide/notifications/telegram","permalink":"/administration-guide/notifications/telegram","draft":false,"unlisted":false,"editUrl":"https://github.com/semaphoreui/semaphore-docs/edit/main/docs/administration-guide/notifications/telegram.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"email","permalink":"/administration-guide/notifications/email"},"next":{"title":"slack","permalink":"/administration-guide/notifications/slack"}}');var o=n(4848),s=n(8453);const a={},r="Telegram notifications",l={},c=[{value:"Pre-requisites",id:"pre-requisites",level:3},{value:"Bot setup",id:"bot-setup",level:4},{value:"Chat ID",id:"chat-id",level:4},{value:"Testing",id:"testing",level:4},{value:"Configuration",id:"configuration",level:3},{value:"Per-project Chat IDs",id:"per-project-chat-ids",level:3}];function d(e){const t={code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{class:"breadcrumbs",children:(0,o.jsxs)(t.p,{children:[(0,o.jsx)("a",{href:"/administration-guide/notifications",children:"Notifications"}),"\n\u2192 Telegram notifications"]})}),"\n",(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"telegram-notifications",children:"Telegram notifications"})}),"\n",(0,o.jsx)(t.h3,{id:"pre-requisites",children:"Pre-requisites"}),"\n",(0,o.jsx)(t.p,{children:"In order to configure Semaphore UI to send alerts via Telegram, a few steps are required beforehand on the Telegram side.  You'll need to create your own bot that will receive the webhook and you'll need to know the ID of the chat you want to send the message to."}),"\n",(0,o.jsx)(t.h4,{id:"bot-setup",children:"Bot setup"}),"\n",(0,o.jsx)(t.p,{children:"The easiest way to set up your own bot is to use @BotFather."}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["In your Telegram client, message @BotFather with ",(0,o.jsx)(t.code,{children:"/start"}),"."]}),"\n",(0,o.jsx)(t.li,{children:"Follow the prompts to create a new bot and take note of the Authorization Token given in the last step.  Note: this token is secret and should be treated as such."}),"\n",(0,o.jsxs)(t.li,{children:["Message your new bot with ",(0,o.jsx)(t.code,{children:"/start"})," to start the bot so it can receive messages."]}),"\n"]}),"\n",(0,o.jsx)(t.h4,{id:"chat-id",children:"Chat ID"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"In your Telegram client, message @RawDataBot with any message."}),"\n",(0,o.jsxs)(t.li,{children:["Copy the value for the ",(0,o.jsx)(t.code,{children:"id"})," key in the ",(0,o.jsx)(t.code,{children:"chat"})," map."]}),"\n"]}),"\n",(0,o.jsx)(t.h4,{id:"testing",children:"Testing"}),"\n",(0,o.jsx)(t.p,{children:"You can use cURL to validate your settings above as follows:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'curl -X POST https://api.telegram.org/botYOUR_BOT_TOKEN/sendMessage \\\n  -d chat_id=YOUR_CHAT_ID \\\n  -d text="Test message from curl"\n'})}),"\n",(0,o.jsx)(t.h3,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsx)(t.p,{children:"Using the Chat ID and Token from the previous steps, you can now configure Semaphore UI to send Telegram Alerts as follows:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"telegram_alert: True\ntelegram_chat: <chat id>\ntelegram_token: <token>\n"})}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"config.json"})," example:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'{\n    "telegram_alert": true,\n    "telegram_token": "64********:AAG****_rM6obyR********************",\n    "telegram_chat":  "",\n}\n'})}),"\n",(0,o.jsx)(t.h3,{id:"per-project-chat-ids",children:"Per-project Chat IDs"}),"\n",(0,o.jsx)(t.p,{children:"Each project can use a unique Chat ID.  This allows you to separate notifications by project rather than have them all go to the same chat. This overrides the global Chat ID from above."})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var i=n(6540);const o={},s=i.createContext(o);function a(e){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);