"use strict";(self.webpackChunksemaphore_docs=self.webpackChunksemaphore_docs||[]).push([[59],{7236:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"administration-guide/cli/vaults","title":"vaults","description":"CLI","source":"@site/docs/administration-guide/cli/vaults.md","sourceDirName":"administration-guide/cli","slug":"/administration-guide/cli/vaults","permalink":"/administration-guide/cli/vaults","draft":false,"unlisted":false,"editUrl":"https://github.com/semaphoreui/semaphore-docs/edit/main/docs/administration-guide/cli/vaults.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"users","permalink":"/administration-guide/cli/users"},"next":{"title":"runners","permalink":"/administration-guide/cli/runners"}}');var s=t(4848),r=t(8453);const a={},o=void 0,l={},d=[{value:"Vaults",id:"vaults",level:3},{value:"Multiple vault passwords (Ansible)",id:"multiple-vault-passwords-ansible",level:4}];function c(e){const n={code:"code",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{class:"breadcrumbs",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"/administration-guide/runners",children:"CLI"}),"\n\u2192 Vaults"]})}),"\n",(0,s.jsx)(n.h3,{id:"vaults",children:"Vaults"}),"\n",(0,s.jsx)(n.p,{children:"You can reencrypt your secrets in database with using following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"semaphore vault rekey --old-key <encryption-key-which-used-before>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Your data will be decryped using ",(0,s.jsx)(n.code,{children:"<encryption-key-which-used-before>"})," and will be encrypted using option ",(0,s.jsx)(n.code,{children:"access_key_encryption"})," from configuration key."]}),"\n",(0,s.jsx)(n.h4,{id:"multiple-vault-passwords-ansible",children:"Multiple vault passwords (Ansible)"}),"\n",(0,s.jsx)(n.p,{children:"You can define multiple Ansible Vault passwords in the Key Store and attach them to an Ansible template. During execution, Semaphore will provide all configured passwords to Ansible so it can decrypt any referenced vaults."})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);