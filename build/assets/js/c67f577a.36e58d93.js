"use strict";(self.webpackChunksemaphore_docs=self.webpackChunksemaphore_docs||[]).push([[7183],{8205:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"administration-guide/security/network","title":"network","description":"Administration Guide","source":"@site/docs/administration-guide/security/network.md","sourceDirName":"administration-guide/security","slug":"/administration-guide/security/network","permalink":"/administration-guide/security/network","draft":false,"unlisted":false,"editUrl":"https://github.com/semaphoreui/semaphore-docs/edit/main/docs/administration-guide/security/network.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"database","permalink":"/administration-guide/security/database"},"next":{"title":"nginx","permalink":"/administration-guide/security/nginx"}}');var s=r(4848),i=r(8453);const c={},a="Network security",o={},l=[{value:"VPN",id:"vpn",level:2},{value:"SSL",id:"ssl",level:2},{value:"Self-signed SSL certificate",id:"self-signed-ssl-certificate",level:3},{value:"Let&#39;s Encrypt SSL certificate",id:"lets-encrypt-ssl-certificate",level:3},{value:"Others",id:"others",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{class:"breadcrumbs",children:(0,s.jsxs)(n.p,{children:["Administration Guide\n\u2192 ",(0,s.jsx)("a",{href:"/administration-guide/security/",children:"Security"}),"\n\u2192 Database security"]})}),"\n",(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"network-security",children:"Network security"})}),"\n",(0,s.jsxs)(n.p,{children:["For security reasons, Semaphore ",(0,s.jsx)(n.strong,{children:"should not be used"})," over unencrypted HTTP!"]}),"\n",(0,s.jsxs)(n.p,{children:["Why use encrypted connections? See: ",(0,s.jsx)(n.a,{href:"https://www.cloudflare.com/learning/ssl/why-use-https/",children:"Article from Cloudflare"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Options you have:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#vpn",children:"VPN"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ssl",children:"SSL"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"vpn",children:"VPN"}),"\n",(0,s.jsx)(n.p,{children:"You can use a Client-to-Site VPN, that terminates on the Semaphore server, to encrypt & secure the connection."}),"\n",(0,s.jsx)(n.h2,{id:"ssl",children:"SSL"}),"\n",(0,s.jsx)(n.p,{children:"Semaphore supports SSL/TLS starting from v2.12."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"config.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    ...\n    "tls": {\n        "enabled": true,\n        "cert_file": "/path/to/cert/example.com.cert",\n        "key_file": "/path/to/key/example.com.key"\n    }\n    ...\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Or environment variables (useful for Docker):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"export SEMAPHORE_TLS_ENABLED=True\nexport SEMAPHORE_TLS_CERT_FILE=/path/to/cert/example.com.cert\nexport SEMAPHORE_TLS_KEY_FILE=/path/to/key/example.com.key\n"})}),"\n",(0,s.jsx)(n.p,{children:"Alternatively, you can use a reverse proxy in front of Semaphore to handle secure connections. For example:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/administration-guide/security/nginx",children:"NGINX"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/administration-guide/security/apache",children:"Apache"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"self-signed-ssl-certificate",children:"Self-signed SSL certificate"}),"\n",(0,s.jsxs)(n.p,{children:["You can generate your own SSL certificate with using ",(0,s.jsx)(n.code,{children:"openssl"})," CLI tool:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'openssl req -x509 -newkey rsa:4096 \\\n    -keyout key.pem -out cert.pem \\\n    -sha256 -days 3650 -nodes \\\n    -subj "/C=US/ST=California/L=San Francisco/O=CompanyName/OU=DevOps/CN=example.com"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"lets-encrypt-ssl-certificate",children:"Let's Encrypt SSL certificate"}),"\n",(0,s.jsxs)(n.p,{children:["You can use ",(0,s.jsx)(n.a,{href:"https://certbot.eff.org/",children:"Certbot"})," to generate and automatically renew a Let's Encrypt SSL certificate."]}),"\n",(0,s.jsx)(n.p,{children:"Example for Apache:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo snap install certbot\nsudo certbot --apache -n --agree-tos -d example.com -m mail@example.com\n"})}),"\n",(0,s.jsx)(n.h3,{id:"others",children:"Others"}),"\n",(0,s.jsxs)(n.p,{children:["If you want to use any other reverse proxy - make sure to also forward websocket connections on the ",(0,s.jsx)(n.code,{children:"/api/ws"})," route!"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>a});var t=r(6540);const s={},i=t.createContext(s);function c(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);