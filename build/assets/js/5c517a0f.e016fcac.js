"use strict";(self.webpackChunksemaphore_docs=self.webpackChunksemaphore_docs||[]).push([[5247],{7671:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"faq/troubleshooting","title":"Troubleshooting","description":"1. Renner prints error 404","source":"@site/docs/faq/troubleshooting.md","sourceDirName":"faq","slug":"/faq/troubleshooting","permalink":"/faq/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/semaphoreui/semaphore-docs/edit/main/docs/faq/troubleshooting.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Teams","permalink":"/user-guide/team"}}');var i=s(4848),o=s(8453);const r={},l="Troubleshooting",a={},h=[{value:"1. Renner prints error 404",id:"1-renner-prints-error-404",level:2},{value:"How to fix",id:"how-to-fix",level:3},{value:"2. Gathering Facts issue for localhost",id:"2-gathering-facts-issue-for-localhost",level:2},{value:"Why this happens",id:"why-this-happens",level:3},{value:"How to fix this",id:"how-to-fix-this",level:3},{value:"4. panic: pq: SSL is not enabled on the server",id:"4-panic-pq-ssl-is-not-enabled-on-the-server",level:2},{value:"How to fix this",id:"how-to-fix-this-1",level:3},{value:"5. fatal: bad numeric config value &#39;0&#39; for &#39;GIT_TERMINAL_PROMPT&#39;: invalid unit",id:"5-fatal-bad-numeric-config-value-0-for-git_terminal_prompt-invalid-unit",level:2},{value:"How to fix this",id:"how-to-fix-this-2",level:3},{value:"6. unable to read LDAP response packet: unexpected EOF",id:"6-unable-to-read-ldap-response-packet-unexpected-eof",level:2},{value:"How to fix this",id:"how-to-fix-this-3",level:3},{value:"7. LDAP Result Code 49 &quot;Invalid Credentials&quot;",id:"7-ldap-result-code-49-invalid-credentials",level:2},{value:"How to fix this",id:"how-to-fix-this-4",level:3},{value:"8. LDAP Result Code 32 &quot;No Such Object&quot;",id:"8-ldap-result-code-32-no-such-object",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,i.jsx)(n.h2,{id:"1-renner-prints-error-404",children:"1. Renner prints error 404"}),"\n",(0,i.jsx)(n.h3,{id:"how-to-fix",children:"How to fix"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/semaphoreui/semaphore/discussions/1873?converting=1",children:"Getting 401 error code from Runner"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-gathering-facts-issue-for-localhost",children:"2. Gathering Facts issue for localhost"}),"\n",(0,i.jsxs)(n.p,{children:["The issue can occur on Semaphore UI installed via ",(0,i.jsx)(n.a,{href:"https://snapcraft.io/semaphore",children:"Snap"})," or ",(0,i.jsx)(n.a,{href:"https://hub.docker.com/r/semaphoreui/semaphore",children:"Docker"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"4:10:16 PM\nTASK [Gathering Facts] *********************************************************\n4:10:17 PM\nfatal: [localhost]: FAILED! => changed=false\n"})}),"\n",(0,i.jsx)(n.h3,{id:"why-this-happens",children:"Why this happens"}),"\n",(0,i.jsxs)(n.p,{children:["For more information about localhost use in Ansible, read this article ",(0,i.jsx)(n.a,{href:"https://docs.ansible.com/ansible/latest/inventory/implicit_localhost.html",children:"Implicit 'localhost'"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Ansible tries to gather facts locally, but Ansible is located in a limited isolated container which doesn't allow this."}),"\n",(0,i.jsx)(n.h3,{id:"how-to-fix-this",children:"How to fix this"}),"\n",(0,i.jsx)(n.p,{children:"There are two ways:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Disable facts gathering:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- hosts: localhost\n  gather_facts: False\n  roles:\n    - ...\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["Explicitly set the connection type to ",(0,i.jsx)(n.strong,{children:"ssh"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[localhost]\n127.0.0.1 ansible_connection=ssh ansible_ssh_user=your_localhost_user\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"4-panic-pq-ssl-is-not-enabled-on-the-server",children:"4. panic: pq: SSL is not enabled on the server"}),"\n",(0,i.jsx)(n.p,{children:"This means that your Postgres doesn't work by SSL."}),"\n",(0,i.jsx)(n.h3,{id:"how-to-fix-this-1",children:"How to fix this"}),"\n",(0,i.jsxs)(n.p,{children:["Add option ",(0,i.jsx)(n.code,{children:"sslmode=disable"})," to the configuration file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'\t"postgres": {\n\t\t"host": "localhost",\n\t\t"user": "pastgres",\n\t\t"pass": "pwd",\n\t\t"name": "semaphore",\n\t\t"options": {\n\t\t\t"sslmode": "disable"\n\t\t}\n\t},\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"5-fatal-bad-numeric-config-value-0-for-git_terminal_prompt-invalid-unit",children:"5. fatal: bad numeric config value '0' for 'GIT_TERMINAL_PROMPT': invalid unit"}),"\n",(0,i.jsx)(n.p,{children:"This means that you are trying to access a repository over HTTPS that requires authentication."}),"\n",(0,i.jsx)(n.h3,{id:"how-to-fix-this-2",children:"How to fix this"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.strong,{children:"Key Store"})," screen."]}),"\n",(0,i.jsxs)(n.li,{children:["Create a new key ",(0,i.jsx)(n.code,{children:"Login with password"})," type."]}),"\n",(0,i.jsx)(n.li,{children:"Specify your login for GitHub/BitBucket/etc."}),"\n",(0,i.jsxs)(n.li,{children:["Specify the password. You can't use your account password for GitHub/BitBucket, you should use a Personal Access Token (PAT) instead of it. Read more ",(0,i.jsx)(n.a,{href:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",children:"here"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["After creating the key, go to the ",(0,i.jsx)(n.strong,{children:"Repositories"})," screen, find your repository and specify the key."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"6-unable-to-read-ldap-response-packet-unexpected-eof",children:"6. unable to read LDAP response packet: unexpected EOF"}),"\n",(0,i.jsx)(n.p,{children:"Most likely, you are trying to connect to the LDAP server using an insecure method, although it expects a secure connection (via TLS)."}),"\n",(0,i.jsx)(n.h3,{id:"how-to-fix-this-3",children:"How to fix this"}),"\n",(0,i.jsxs)(n.p,{children:["Enable TLS in your ",(0,i.jsx)(n.code,{children:"config.json"})," file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'...\n"ldap_needtls": true\n...\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"7-ldap-result-code-49-invalid-credentials",children:'7. LDAP Result Code 49 "Invalid Credentials"'}),"\n",(0,i.jsxs)(n.p,{children:["You have the wrong password or ",(0,i.jsx)(n.code,{children:"binddn"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"how-to-fix-this-4",children:"How to fix this"}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"ldapwhoami"})," tool and check if your binddn works:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'ldapwhoami\\\n  -H ldap://ldap.com:389\\\n  -D "CN=/your/ldap_binddn/value/in/config/file"\\\n  -x\\\n  -W\n'})}),"\n",(0,i.jsxs)(n.p,{children:["It will ask interactively for the password and should return code ",(0,i.jsx)(n.strong,{children:"0"})," and echo out the ",(0,i.jsx)(n.strong,{children:"DN"})," as specified."]}),"\n",(0,i.jsx)(n.p,{children:"You also can read the following articles:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://serverfault.com/q/771549/443463",children:"ldapsearch: Invalid credentials (49)"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/semaphoreui/semaphore/issues/906",children:"https://github.com/semaphoreui/semaphore/issues/906"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"8-ldap-result-code-32-no-such-object",children:'8. LDAP Result Code 32 "No Such Object"'}),"\n",(0,i.jsx)(n.p,{children:"Coming soon."})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var t=s(6540);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);